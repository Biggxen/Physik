% Spracheinstellungen
    \usepackage[utf8]{inputenc}
    \usepackage[ngerman]{babel}
%
% Farben
%
\usepackage[dvipsnames,table,xcdraw]{xcolor} % stellt Farben zur Verfügung; muss so früh geladen werden, da es sonst andere Pakete ohne Optionenliste laden
\definecolor{gruen}{RGB}{46,125,50}
\definecolor{orange}{RGB}{225,127,0}
\definecolor{violett}{RGB}{101,87,210}
\definecolor{blaugrau}{RGB}{62,96,111}
%    
% Satz
%
    \usepackage[left=1.75cm, right=3cm,% 
    vmargin=3cm,%
    headheight=2.5\baselineskip, marginparsep=3em]{geometry}
    \usepackage[protrusion=true,expansion, kerning=true, spacing=true]{microtype}
        \microtypecontext{spacing=nonfrench}
    \usepackage[headsepline, footsepline]{scrlayer-scrpage}
        \pagestyle{scrheadings}
        \renewcommand{\headfont}{\small}
        \cfoot{\pagemark}
        \ofoot{}
    \usepackage[onehalfspacing]{setspace}
    \usepackage{multicol} %mehrspaltiges Layout
    \usepackage{marginnote}
    \usepackage[deutsch]{turnthepage}
        \renewcommand{\turnthepage}{\footnotesize\usekomafont{footnote}Bitte wenden.} % kursive Schrift abstellen
    \usepackage{ulem} % unterstreichen
        \normalem % \emph kursiv statt unterstrichen
    \usepackage{stackengine} %vertikale Ausrichtung steuern
    \usepackage{csquotes}
        \renewcommand{\mkbegdispquote}[2]{\itshape} % displayquote kursiv
        % Anführungszeichen für displayquote
        \renewcommand{\mkbegdispquote}[2]{\itshape\openautoquote}
        \renewcommand{\mkenddispquote}[2]{\closeautoquote#1#2}
    \usepackage{ragged2e} % Flattersatz mit Silbentrennung
    \usepackage{adjustbox}
%
% wissenschaftliches
%
    \usepackage[%
        leqno,% Nummerierung der Gleichungen links
        fleqn% Gleichungen linksbündig statt zentriert
    ]{amsmath}
        % Nummerierung mit Buchstaben
        \renewcommand{\theequation}{\alph{equation}}
    \usepackage{mathtools}
        \newtagform{brackets}{}{)}
        \usetagform{brackets}
    \usepackage{amssymb,graphicx}
    \usepackage{accents} % Verschiedene Werkzeuge für mathematische Akzente
        \newcommand{\hatset}[1]{\accentset{\wedge}{#1}} % entspricht-Zeichen https://golatex.de/viewtopic.php?t=3933
    \usepackage{siunitx}
    	\sisetup{
    		output-decimal-marker = {,},%
    		retain-explicit-plus, %forciert eingegebenes Plus-Zeichen
    		input-decimal-markers = {,},%
    		exponent-product = \cdot, % Multiplikator bei wissenschaftlicher Schreibweise
    		range-units = single, % Einheit nur einmal
    		per-mode = fraction, %
    		group-minimum-digits = 4, % Anzahl Ziffern, ab der Zahl gruppiert wird
        		group-separator={.}, %
    		group-digits = integer % nur ganzzahligen Anteil gruppieren
    	}
    	\DeclareSIUnit{\year}{a}
    	\DeclareSIUnit{\astronomicalunit}{AE}
    	\DeclareSIUnit{\promille}{\text{\textperthousand}}
    	\DeclareSIUnit{\degreeFahrenheit}{\degree F}
    	\DeclareSIUnit\litre{\ell} % Schreibschrift-l
    \usepackage{cancel} %Kürzen in Brüchen
    \newcommand*\euler{\mathrm{e}} %Eulersche Zahl korrekt setzen
    % Reaktionsgleichungen setzen
    \usepackage{chemmacros,upgreek}
        \NewChemParticle\neutrino{\chemnu_{$\!e$}}
        \NewChemParticle\antineutrino{$\bar{\chemnu}$_{$\!e$}}
        \NewChemParticle\betaminus{\chembeta-}
        \NewChemParticle\betaplus{\chembeta+}
    \usepackage{esvect} % schöne Vektorpfeife
%
% Zeichnen
%
    \usepackage{tikz}
        \usetikzlibrary{datavisualization, datavisualization.formats.functions, shapes, calc, intersections, arrows, decorations.markings, plotmarks, decorations, tikzmark, angles, quotes, babel, patterns, positioning}
    \usepackage{tikz-dimline} % Maßangaben zeichnen
    \usepackage{tikzlings-penguins} % Pinguine zeichnen <3
    \usepackage{qrcode}
    % "schöne" Kreise um Zahlen
    % https://texwelt.de/fragen/164/wie-zeichne-ich-einen-kreis-um-eine-zahl/180
    \newcommand\kreis[1]{%
  \tikz[baseline]\node[draw,shape=circle,anchor=base] {\footnotesize#1} ;}
    % https://texwelt.de/fragen/2639/wie-kann-ich-kastchenpapier-zeichnen
    \newcommand\kariert[2][0.5cm]{% 
       \begin{tikzpicture}[gray,step=#1]
         \pgfmathtruncatemacro\anzahl{(\linewidth-\pgflinewidth)/#1} % maximale Anzahl Kästchen pro Zeile
         \draw (0,0) rectangle (\anzahl*#1,#2*#1) (0,0) grid (\anzahl*#1,#2*#1);
       \end{tikzpicture} 
    }
    \newcommand{\liniert}[2][0.5cm]{% 
      \begin{tikzpicture}[gray]
      \path[use as bounding box](0,0)rectangle(\linewidth,-#2*#1-0.5\pgflinewidth); 
       \foreach \n in {1,...,#2}\draw(0 ,-#1*\n )--(\linewidth,-#1*\n ); 
      \end{tikzpicture}}
    \usepackage[siunitx, EFvoltages, americaninductors]{circuitikz} % Schaltungen zeichnen
    \input{../config/tikz-objekte.tex} %importiert fertige TikZ-Objekte
%
% Tabellen
% 
    \usepackage{booktabs} %schöne Tabellen <3
    \usepackage{xltabular} %zerstört die horizontalen Linien in booktabs (Bug ist aber in booktabs: https://tex.stackexchange.com/questions/522920/xltabular-breaking-booktabs)
    % X-Spalten in tabularx linksbündig
    % https://texwelt.de/fragen/1805/ist-es-moglich-x-spalten-in-tabellen-linksbundig-auszurichten
    \newcolumntype{Z}{>{\RaggedRight}X}

%
% Referenzen
%
    \usepackage{pageslts} %fügt für \pageref LastPage hinzu, so dass Seite x von y geht
	    \pagenumbering{arabic}
    \usepackage{hyperref}
    \usepackage[german]{cleveref}
        \crefname{enumi}{Aufgabe}{Aufgaben}
        \Crefname{enumi}{Aufgabe}{Aufgaben}
%
% Symbole
% 
    \usepackage{wasysym} %zusätzliche Symbole
    \usepackage{eurosym}
    \usepackage{utfsym} % Unicode einbinden mit usym
    \usepackage{fontawesome5} %Icons
    \usepackage{textcomp} % für Promillezeichen
    % Doppeldefinition von Square durch wasymb und bbding
    \let\Square\relax
    \usepackage{bbding} % Sterne
%
% Umgebungen    
%
    \usepackage{enumitem} %Mehr Kontrolle für Listen
        \setlist[enumerate,1]{label= \alph*)}
        \setlist[enumerate,2]{label= \roman*)}
        \setlist[itemize,1]{label={--}}
    \usepackage{float} % ermöglicht Option H um Gleitumgebungen an der richtigen Stelle zu positionieren
    \usepackage[justification=raggedright, format=plain, font={small}]{caption} % Caption in Gleitumgebungen individualisieren
    \usepackage{subcaption}
        \captionsetup[subfigure]{justification=raggedright}
    \usepackage{comment} % Bereiche auskommentieren
    \usepackage[most]{tcolorbox}
        % https://tex.stackexchange.com/a/208668/238579
        \tcbset{myboxstyle/.style={enhanced,skin=enhanced jigsaw,attach boxed title to top left={xshift=-3mm,yshift=-\tcboxedtitleheight/2},coltitle=white,varwidth boxed title=0.7\linewidth,colbacktitle=#1!75, colback=white,sharp corners,top=2ex,boxed title style={sharp corners, boxrule=0pt},underlay boxed title={\fill[#1] (title.south west) -- (title.south-|frame.west)--++(0,-.5*\tcboxedtitleheight)--cycle;\fill[#1] (title.north east) --++(-.5*\tcboxedtitleheight,0)--++(0,.5*\tcboxedtitleheight)--cycle;}},    myboxstyle/.default=blaugrau}
        
        \newtcolorbox{mybox}[2][]{myboxstyle,title={\faLightbulb[regular]~\large\hspace*{.5cm}#2\hspace*{.5cm}},#1}
%
% Zähler für die Nummerierung der Aufgaben
%
    \newcounter{aufgabennummer} 
    \renewcommand*\theaufgabennummer{\arabic{aufgabennummer}}
    \stepcounter{aufgabennummer} % setzt Zähler auf 1
%
% sonstige Einstellungen
%
    %\setlength{\parindent}{0mm}
    % https://texwelt.de/fragen/11153/formatierung-seitenzahl-koma-klasse-wie-schrift-kursiv/11155
    % Gesamte Seitenmarke umdefinieren (sorgt für Vereinheitlichung bei Schriftwechsel etc.)
        \renewcommand*{\pagemark}{{\usekomafont{pagenumber}{Seite \thepage\ von \pageref*{LastPage}}}}
    % Seitenzähler nur, wenn mind. 2 Seiten vorhanden sind
        \usepackage{refcount}
        \AtBeginDocument{%
        \ifnum\getrefbykeydefault{LastPage}{page}{1} =1\relax \cfoot{}\KOMAoption{footsepline}{0mm}\fi}
    % Schusterjungen + Hurenkinder
    \clubpenalty=10000
    \widowpenalty=10000
    \usepackage{afterpage}
    % leere Seite einfügen
    % https://zhiganglu.com/post/latex-insert-blank-page/
    \newcommand\blankpage{
    \null
    \thispagestyle{empty}
    \renewcommand{\turnthepage}{} % kursive Schrift abstellen
    \addtocounter{page}{-1}
    \newpage
    \renewcommand{\turnthepage}{\footnotesize\usekomafont{footnote}Bitte wenden.} % kursive Schrift abstellen
    }